!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n.p,n.p,n.p,n.p,n.p,n.p;var r={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".button_save",inactiveButtonClass:"button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__error_active"},o="https://mesto.nomoreparties.co/v1/cohort-17/",i="26855ddc-0b32-46bf-95f9-95a4c6a68cde",c={cardsSelector:".cards",cardTplSelector:".js-card-item-template",cardTitleSelector:".card-item__title",cardPicSelector:".card-item__pic",cardLikeBtnSelector:".button_like",cardLikeCountSelector:".card-item__like-count",cardDeleteBtnSelector:".js-card-delete",popupOpenedSelector:".popup_opened",popupProfileSelector:".js-popup-profile",popupNewCardSelector:".js-popup-card",popupPreviewSelector:".js-popup-place",popupConfirmSelector:".js-popup-areyousure",popupAvatarSelector:".js-popup-avatar",formProfileSelector:".js-form-profile",formCardSelector:".js-form-card",formConfirmSelector:".js-form-areyousure",formAvatarSelector:".js-form-avatar",previewImageSelector:".preview__image",previewTitleSelector:".preview__title",buttonEditProfileSelector:".button_edit",buttonAddCardSelector:".button_add",buttonEditAvatarSelector:".js-edit-avatar",buttonSaveSelector:".button_save",buttonSaveDisabled:".button_disabled",inputProfileNameSelector:".form__profile-name",inputProfileInfoSelector:".form__profile-job",inputProfileAvatarSelector:".form__avatar-url",profileNameSelector:".profile__person",profileAboutSelector:".profile__job",profileAvatarSelector:".profile__avatar"};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t.url,this.headers=t.headers}var t,n,r;return t=e,(n=[{key:"getCards",value:function(){var e=this;return fetch("".concat(this.url,"cards"),{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка получения карточек: ".concat(e.status))})).then((function(e){return e})).catch((function(t){return e._displayErr(t)}))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this.url,"users/me"),{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка получения информации о пользователе: ".concat(e.status))})).then((function(e){return e})).catch((function(t){return e._displayErr(t)}))}},{key:"updateUserInfo",value:function(e,t){var n=this;return fetch("".concat(this.url,"users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:e,about:t})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка добавления информации о пользователе: ".concat(e.status))})).then((function(e){return e})).catch((function(e){return n._displayErr(e)}))}},{key:"createNewPlace",value:function(e,t){var n=this;return fetch("".concat(this.url,"cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка добавления новой карточки: ".concat(e.status))})).then((function(e){return e})).catch((function(e){return n._displayErr(e)}))}},{key:"deleteMyPlace",value:function(e){var t=this;return fetch("".concat(this.url,"cards/").concat(e),{method:"DELETE",headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка удаления карточки ".concat(e," карточки: ").concat(t.status))})).then((function(e){return e})).catch((function(e){return t._displayErr(e)}))}},{key:"likeCard",value:function(e,t){var n=this;return fetch("".concat(this.url,"cards/likes/").concat(e),{method:t,headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка лайканья ".concat(e," карточки: ").concat(t.status))})).then((function(e){return e})).catch((function(e){return n._displayErr(e)}))}},{key:"changeAvatar",value:function(e){var t=this;return fetch("".concat(this.url,"users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка замены аватара: ".concat(e.status))})).then((function(e){return e})).catch((function(e){return t._displayErr(e)}))}},{key:"_displayErr",value:function(e){alert(e)}}])&&a(t.prototype,n),r&&a(t,r),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameSelector=t.name,this._infoSelector=t.info,this._avatarSelector=t.avatar,this._name=document.querySelector(this._nameSelector),this._info=document.querySelector(this._infoSelector),this._avatar=document.querySelector(this._avatarSelector)}var t,n,r;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,info:this._info.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(e,t){this._name.textContent=e,this._info.textContent=t}},{key:"initUserInfo",value:function(e){this.setUserInfo(e.name,e.about),this._avatar.src=e.avatar,this._avatar.alt=e.name,this.id=e._id}}])&&s(t.prototype,n),r&&s(t,r),e}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=r,this._renderer=o,this._selector=n,this._container=document.querySelector(this._selector)}var t,n,r;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this.items.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.appendChild(e)}},{key:"prependItem",value:function(e){this._container.prepend(e)}}])&&f(t.prototype,n),r&&f(t,r),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selector=t,this._element=document.querySelector(this._selector),this._closeBtnSelector=".button_close",this._handleEscClose=this._handleEscClose.bind(this)}var t,n,r;return t=e,(n=[{key:"open",value:function(){this._element.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._element.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListener",value:function(){var e=this;this._element.addEventListener("mousedown",(function(t){t.target.classList.contains(e._selector.slice(1))&&e.close()})),this._element.querySelector(this._closeBtnSelector).addEventListener("click",(function(){e.close()}))}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}}])&&h(t.prototype,n),r&&h(t,r),e}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(i,e);var t,n,r,o=m(i);function i(e,t,n){var r,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(c=o.call(this,e))._iamge=document.querySelector(n),c._name=document.querySelector(t),k((r=S(c),g(i.prototype)),"setEventListener",r).call(r),c}return t=i,(n=[{key:"open",value:function(e,t){this._iamge.src=e,this._name.textContent=t,this._iamge.alt=t,k(g(i.prototype),"open",this).call(this)}}])&&v(t.prototype,n),r&&v(t,r),i}(d);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return(j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(i,e);var t,n,r,o=O(i);function i(e,t){var n,r=e.selector,c=e.submitFnc;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,r))._submitFnc=c,n._form=document.querySelector(t),n.setEventListener(),n}return t=i,(n=[{key:"setEventListener",value:function(){var e=this;j(I(i.prototype),"setEventListener",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submit()}))}},{key:"_submit",value:function(){this._submitFnc(this._idCard)}},{key:"open",value:function(e){this._idCard=e,j(I(i.prototype),"open",this).call(this)}}])&&E(t.prototype,n),r&&E(t,r),i}(d);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(t,n,r,o,i,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._myId=t,this._name=n.name,this._link=n.link,this._likeCount=0,this._ownerId=n.owner._id,this._idCard=n._id,this.likesObj=n.likes,this._likeCount=n.likes.length,this._handleCardClick=o,this._handleCardDelete=i,this._handleCardLike=c,this._selector=r.cardTplSelector,this._cardTitleSelector=r.cardTitleSelector,this._cardPicSelector=r.cardPicSelector,this._cardLikeBtnSelector=r.cardLikeBtnSelector,this._cardLikeCountSelector=r.cardLikeCountSelector,this._cardDeleteBtnSelector=r.cardDeleteBtnSelector}var t,n,r;return t=e,(n=[{key:"hasMyLike",value:function(){var e=this;return void 0!==Object.values(this.likesObj).find((function(t){if(t._id===e._myId)return!0}))}},{key:"create",value:function(){return this._element=this._getCardTemplate(),this._element.id=this._idCard,this._element.querySelector(this._cardPicSelector).src=this._link,this._element.querySelector(this._cardTitleSelector).textContent=this._name,this._element.querySelector(this._cardLikeCountSelector).textContent=this._likeCount,this._itsMyCard()||this._element.querySelector(this._cardDeleteBtnSelector).classList.add("button_visibility_hidden"),this.hasMyLike()&&this._like(),this._setEventListeners(),this._element}},{key:"_like",value:function(){this._element.querySelector(this._cardLikeBtnSelector).classList.toggle("button_like-isset")}},{key:"setLikeCount",value:function(e){this._element.querySelector(this._cardLikeCountSelector).textContent=e}},{key:"_getCardTemplate",value:function(){return document.querySelector(this._selector).content.querySelector(".card-item").cloneNode(!0)}},{key:"_itsMyCard",value:function(){return this._myId===this._ownerId}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".button_like").addEventListener("click",(function(t){e._handleCardLike(),e._like()})),this._element.querySelector(".card-item__pic").addEventListener("click",(function(){e._handleCardClick()})),this._element.querySelector(".js-card-delete").addEventListener("click",(function(){e._handleCardDelete()}))}}])&&T(t.prototype,n),r&&T(t,r),e}();function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._settings=t,this._formSelector=n,this._form=document.querySelector(this._formSelector)}var t,n,r;return t=e,(n=[{key:"enableValidation",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._disableSaveBtn()})),this._setEventListeners()}},{key:"_disableSaveBtn",value:function(){var e=this._form.querySelector(this._settings.submitButtonSelector);e.classList.add(this._settings.inactiveButtonClass),e.disabled=!0}},{key:"_setEventListeners",value:function(){var e=this;this._inputs=Array.from(this._form.querySelectorAll(this._settings.inputSelector)),this._saveBtn=this._form.querySelector(this._settings.submitButtonSelector),this._toggleButtonState(),this._inputs.forEach((function(t){t.addEventListener("input",(function(){e._checkValidity(t),e._toggleButtonState()}))}))}},{key:"_inputIsValid",value:function(e){return e.validity.valid}},{key:"_checkValidity",value:function(e){this._inputIsValid(e)?this._hideInputError(e):this._showInputError(e)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputs)?(this._saveBtn.classList.add(this._settings.inactiveButtonClass),this._saveBtn.disabled=!0):(this._saveBtn.classList.remove(this._settings.inactiveButtonClass),this._saveBtn.removeAttribute("disabled"))}},{key:"_hasInvalidInput",value:function(){return this._inputs.some((function(e){return!e.validity.valid}))}},{key:"_showInputError",value:function(e){var t=e.id,n=document.querySelector("#".concat(t,"-error"));n.textContent=e.validationMessage,n.classList.add(this._settings.errorClass),e.classList.add(this._settings.inputErrorClass)}},{key:"_hideInputError",value:function(e){var t=e.id,n=document.querySelector("#".concat(t,"-error"));n.textContent="",n.classList.remove(this._settings.errorClass),e.classList.remove(this._settings.inputErrorClass)}}])&&R(t.prototype,n),r&&R(t,r),e}();function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return(V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(i,e);var t,n,r,o=N(i);function i(e,t){var n,r=e.selector,c=e.submitFnc;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,r))._submitFnc=c,n._form=document.querySelector(t),n.setEventListener(),n}return t=i,(n=[{key:"open",value:function(){V(F(i.prototype),"open",this).call(this)}},{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._form.querySelectorAll(".form__input"),this._formValues=[],this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListener",value:function(){var e=this;V(F(i.prototype),"setEventListener",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submit()}))}},{key:"_submit",value:function(){var e=this._getInputValues();this._submitFnc(e)}},{key:"close",value:function(){this._form.reset(),V(F(i.prototype),"close",this).call(this)}}])&&x(t.prototype,n),r&&x(t,r),i}(d),H=document.querySelector(c.buttonEditProfileSelector),z=document.querySelector(c.buttonAddCardSelector),G=document.querySelector(c.buttonEditAvatarSelector),K=document.querySelector(c.inputProfileNameSelector),Q=document.querySelector(c.inputProfileInfoSelector),W=document.querySelector(c.inputProfileAvatarSelector),X=new u({url:o,headers:{authorization:i,"Content-Type":"application/json"}});function Y(e){var t=document.querySelector(c.popupOpenedSelector).querySelector(c.buttonSaveSelector);t.textContent=e,"Сохранение..."===e?(t.disabled=!0,t.classList.add(c.buttonSaveDisabled.slice(1))):(t.disabled=!1,t.classList.remove(c.buttonSaveDisabled.slice(1)))}var Z=new l({name:c.profileNameSelector,info:c.profileAboutSelector,avatar:c.profileAvatarSelector});function $(){X.getUserInfo().then((function(e){Z.initUserInfo(e)}))}var ee=new p({items:{},renderer:function(e){var t=te(e);ee.addItem(t)}},c.cardsSelector);function te(e){var t=new B(Z.id,e,c,(function(t){ne.open(e.link,e.name)}),(function(t){re.open(e._id)}),(function(n){t.hasMyLike()?X.likeCard(e._id,"DELETE").then((function(e){t.setLikeCount(e.likes.length),t.likesObj=e.likes})):X.likeCard(e._id,"PUT").then((function(e){t.setLikeCount(e.likes.length),t.likesObj=e.likes}))}));return t.create()}var ne=new C(c.popupPreviewSelector,c.previewTitleSelector,c.previewImageSelector),re=new q({selector:c.popupConfirmSelector,submitFnc:function(e){Y("Сохранение..."),X.deleteMyPlace(e).then((function(t){if(!t.message)return new Promise.reject("Ошибка удаления");var n=document.getElementById(e);n.classList.toggle("card-item_closed"),n.addEventListener("transitionend",(function(){n.remove(),n=null}))})).finally((function(e){Y("Да"),re.close()}))}},c.formConfirmSelector),oe=new J({selector:c.popupProfileSelector,submitFnc:function(e){Y("Сохранение..."),X.updateUserInfo(e.name,e.info).then((function(e){$()})).finally((function(e){Y("Сохранить"),oe.close()}))}},c.formProfileSelector),ie=new J({selector:c.popupNewCardSelector,submitFnc:function(e){Y("Сохранение..."),X.createNewPlace(e.name,e.link).then((function(e){var t=te(e);ee.prependItem(t)})).finally((function(e){Y("Сохранить"),ie.close()}))}},c.formCardSelector),ce=new J({selector:c.popupAvatarSelector,submitFnc:function(e){Y("Сохранение..."),X.changeAvatar(e.link).then((function(e){$()})).finally((function(e){Y("Сохранить"),ce.close()}))}},c.formAvatarSelector);$(),function(e){X.getCards().then((function(t){e.items=t,e.renderItems()}))}(ee),z.addEventListener("click",(function(e){ie.open()})),H.addEventListener("click",(function(e){var t=Z.getUserInfo();K.value=t.name,K.focus(),Q.value=t.info,oe.open()})),G.addEventListener("click",(function(e){var t=Z.getUserInfo();W.value=t.avatar,ce.open()})),new A(r,c.formProfileSelector).enableValidation(),new A(r,c.formAvatarSelector).enableValidation(),new A(r,c.formCardSelector).enableValidation()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9waG90bzEuanBnIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvcGhvdG8yLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL3Bob3RvMy5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9waG90bzQuanBnIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvcGhvdG81LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL3Bob3RvNi5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ2YWxpZGF0b3JTZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiYXBpU2V0dGluZ3MiLCJzZWxlY3RvcnNTZXR0aW5ncyIsImNhcmRzU2VsZWN0b3IiLCJjYXJkVHBsU2VsZWN0b3IiLCJjYXJkVGl0bGVTZWxlY3RvciIsImNhcmRQaWNTZWxlY3RvciIsImNhcmRMaWtlQnRuU2VsZWN0b3IiLCJjYXJkTGlrZUNvdW50U2VsZWN0b3IiLCJjYXJkRGVsZXRlQnRuU2VsZWN0b3IiLCJwb3B1cE9wZW5lZFNlbGVjdG9yIiwicG9wdXBQcm9maWxlU2VsZWN0b3IiLCJwb3B1cE5ld0NhcmRTZWxlY3RvciIsInBvcHVwUHJldmlld1NlbGVjdG9yIiwicG9wdXBDb25maXJtU2VsZWN0b3IiLCJwb3B1cEF2YXRhclNlbGVjdG9yIiwiZm9ybVByb2ZpbGVTZWxlY3RvciIsImZvcm1DYXJkU2VsZWN0b3IiLCJmb3JtQ29uZmlybVNlbGVjdG9yIiwiZm9ybUF2YXRhclNlbGVjdG9yIiwicHJldmlld0ltYWdlU2VsZWN0b3IiLCJwcmV2aWV3VGl0bGVTZWxlY3RvciIsImJ1dHRvbkVkaXRQcm9maWxlU2VsZWN0b3IiLCJidXR0b25BZGRDYXJkU2VsZWN0b3IiLCJidXR0b25FZGl0QXZhdGFyU2VsZWN0b3IiLCJidXR0b25TYXZlU2VsZWN0b3IiLCJidXR0b25TYXZlRGlzYWJsZWQiLCJpbnB1dFByb2ZpbGVOYW1lU2VsZWN0b3IiLCJpbnB1dFByb2ZpbGVJbmZvU2VsZWN0b3IiLCJpbnB1dFByb2ZpbGVBdmF0YXJTZWxlY3RvciIsInByb2ZpbGVOYW1lU2VsZWN0b3IiLCJwcm9maWxlQWJvdXRTZWxlY3RvciIsInByb2ZpbGVBdmF0YXJTZWxlY3RvciIsIkFwaSIsImNvbmZpZyIsInRoaXMiLCJ1cmwiLCJoZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsInJlc3VsdCIsImVyciIsIl9kaXNwbGF5RXJyIiwiYWJvdXQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImxpbmsiLCJpZCIsImF2YXRhclVybCIsImF2YXRhciIsImFsZXJ0IiwiVXNlckluZm8iLCJzZWxlY3RvcnMiLCJfbmFtZVNlbGVjdG9yIiwiX2luZm9TZWxlY3RvciIsImluZm8iLCJfYXZhdGFyU2VsZWN0b3IiLCJfbmFtZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIl9pbmZvIiwiX2F2YXRhciIsInRleHRDb250ZW50Iiwic3JjIiwiZGF0YSIsInNldFVzZXJJbmZvIiwiYWx0IiwiX2lkIiwiU2VjdGlvbiIsInNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9zZWxlY3RvciIsIl9jb250YWluZXIiLCJmb3JFYWNoIiwiaXRlbSIsImVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsInByZXBlbmQiLCJQb3B1cCIsIl9lbGVtZW50IiwiX2Nsb3NlQnRuU2VsZWN0b3IiLCJfaGFuZGxlRXNjQ2xvc2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsInRhcmdldCIsImNvbnRhaW5zIiwic2xpY2UiLCJjbG9zZSIsIlBvcHVwV2l0aEltYWdlIiwidGl0bGUiLCJfaWFtZ2UiLCJQb3B1cFdpdGhDb25maXJtIiwic3VibWl0Rm5jIiwiX3N1Ym1pdEZuYyIsIl9mb3JtIiwic2V0RXZlbnRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0IiwiX3N1Ym1pdCIsIl9pZENhcmQiLCJDYXJkIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlQ2FyZERlbGV0ZSIsImhhbmRsZUNhcmRMaWtlIiwiX215SWQiLCJfbGluayIsIl9saWtlQ291bnQiLCJfb3duZXJJZCIsIm93bmVyIiwibGlrZXNPYmoiLCJsaWtlcyIsImxlbmd0aCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlQ2FyZERlbGV0ZSIsIl9oYW5kbGVDYXJkTGlrZSIsIl9jYXJkVGl0bGVTZWxlY3RvciIsIl9jYXJkUGljU2VsZWN0b3IiLCJfY2FyZExpa2VCdG5TZWxlY3RvciIsIl9jYXJkTGlrZUNvdW50U2VsZWN0b3IiLCJfY2FyZERlbGV0ZUJ0blNlbGVjdG9yIiwidW5kZWZpbmVkIiwidmFsdWVzIiwiZmluZCIsIl9nZXRDYXJkVGVtcGxhdGUiLCJfaXRzTXlDYXJkIiwiaGFzTXlMaWtlIiwiX2xpa2UiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJ0b2dnbGUiLCJjb3VudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJfc2V0dGluZ3MiLCJfZm9ybVNlbGVjdG9yIiwiX2Rpc2FibGVTYXZlQnRuIiwic2F2ZUJ0biIsImRpc2FibGVkIiwiX2lucHV0cyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc2F2ZUJ0biIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0RWxlbWVudCIsIl9jaGVja1ZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9pbnB1dElzVmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJfaGFzSW52YWxpZElucHV0IiwicmVtb3ZlQXR0cmlidXRlIiwic29tZSIsImlucHV0SWQiLCJlcnJvckVsZW1lbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIlBvcHVwV2l0aEZvcm0iLCJmb3JtIiwiX2lucHV0TGlzdCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJmb3JtVmFsdWVzIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJlZGl0QnV0dG9uIiwiYWRkQ2FyZEJ1dHRvbiIsImVkaXRBdmF0YXJCdXR0b24iLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImF2YXRhcklucHV0IiwiYXBpIiwiY2hhbmdlQnRuTGFiZWwiLCJuZXdMYWJlbCIsImNoYW5nZUJ0biIsInVzZXJJbmZvIiwiaW5pdFVzZXJJbmZvIiwiZ2V0VXNlckluZm8iLCJpbnNDYXJkcyIsIm5ld0NhcmRFbGVtZW50IiwiY3JlYXRlQ2FyZCIsImFkZEl0ZW0iLCJuZXdDYXJkIiwicG9wdXBQbGFjZSIsIm9wZW4iLCJwb3B1cENvbmZpcm0iLCJsaWtlQ2FyZCIsInNldExpa2VDb3VudCIsImRlbGV0ZU15UGxhY2UiLCJtZXNzYWdlIiwiZGVsZXRlRUxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwicG9wdXBQcm9maWxlIiwidXBkYXRlVXNlckluZm8iLCJwb3B1cE5ld0NhcmQiLCJjcmVhdGVOZXdQbGFjZSIsInByZXBlbmRJdGVtIiwicG9wdXBBdmF0YXIiLCJjaGFuZ2VBdmF0YXIiLCJnZXRDYXJkcyIsInJlbmRlckl0ZW1zIiwiaW5pdENhcmRzIiwiZm9jdXMiLCJlbmFibGVWYWxpZGF0aW9uIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixF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a0JlLGtCQUdoQmtNLEdBQWMsSUFBSXhDLEVBQ3BCLENBQ0k5RixTQUFVM0UsRUFBa0JhLG9CQUM1QjJGLFVBQVcsU0FBQy9ILEdBQ1IrTSxFQUFlLGlCQUNmRCxFQUFJMkIsYUFBYXpPLEVBQU0yRSxNQUFNZixNQUFLLFNBQUFDLEdBQzlCc0osT0FESixTQUVXLFNBQUFqSixHQUNQNkksRUFBZSxhQUNmeUIsR0FBWTlHLGFBSXhCbkcsRUFBa0JpQixvQkF5QnRCMkssSUF6SkEsU0FBbUJFLEdBQ2ZQLEVBQUk0QixXQUNDOUssTUFBSyxTQUFDaUMsR0FDSHdILEVBQVNsSCxNQUFRTixFQUNqQndILEVBQVNzQixpQkFzSnJCQyxDQUFVdkIsSUFyQk5aLEVBQWN0RixpQkFBaUIsU0FBUyxTQUFDRyxHQUNyQytHLEdBQWFWLFVBR2pCbkIsRUFBV3JGLGlCQUFpQixTQUFTLFNBQUNHLEdBQ2xDLElBQU04RixFQUFjRixFQUFTRSxjQUM3QlQsRUFBVTNNLE1BQVFvTixFQUFZOU4sS0FDOUJxTixFQUFVa0MsUUFDVmpDLEVBQVM1TSxNQUFRb04sRUFBWWhJLEtBQzdCK0ksR0FBYVIsVUFHakJqQixFQUFpQnZGLGlCQUFpQixTQUFTLFNBQUNHLEdBQ3hDLElBQU04RixFQUFjRixFQUFTRSxjQUM3QlAsRUFBWTdNLE1BQVFvTixFQUFZdEksT0FDaEMwSixHQUFZYixVQVVJLElBQUlyRCxFQUFjdkosRUFBbUJRLEVBQWtCYyxxQkFDL0R5TSxtQkFFTyxJQUFJeEUsRUFBY3ZKLEVBQW1CUSxFQUFrQmlCLG9CQUMvRHNNLG1CQUVNLElBQUl4RSxFQUFjdkosRUFBbUJRLEVBQWtCZSxrQkFDL0R3TSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIi4vaW1hZ2VzL3Bob3RvMS5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiLi9pbWFnZXMvcGhvdG8yLmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIuL2ltYWdlcy9waG90bzMuanBnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIi4vaW1hZ2VzL3Bob3RvNC5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiLi9pbWFnZXMvcGhvdG81LnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIuL2ltYWdlcy9waG90bzYuanBnXCI7IiwiaW1wb3J0IHBpYzEgZnJvbSAnLi4vaW1hZ2VzL3Bob3RvMS5qcGcnO1xyXG5pbXBvcnQgcGljMiBmcm9tICcuLi9pbWFnZXMvcGhvdG8yLmpwZyc7XHJcbmltcG9ydCBwaWMzIGZyb20gJy4uL2ltYWdlcy9waG90bzMuanBnJztcclxuaW1wb3J0IHBpYzQgZnJvbSAnLi4vaW1hZ2VzL3Bob3RvNC5qcGcnO1xyXG5pbXBvcnQgcGljNSBmcm9tICcuLi9pbWFnZXMvcGhvdG81LnBuZyc7XHJcbmltcG9ydCBwaWM2IGZyb20gJy4uL2ltYWdlcy9waG90bzYuanBnJztcclxuXHJcblxyXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICfQkNC70YLQsNC5JyxcclxuICAgICAgICBsaW5rOiBwaWMxXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICfQmtGA0YvQvCcsXHJcbiAgICAgICAgbGluazogcGljMlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAn0KLQtdGA0LjQsdC10YDQutCwJyxcclxuICAgICAgICBsaW5rOiBwaWMzXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICfQmtCw0LvQuNC90LjQvdCz0YDQsNC0JyxcclxuICAgICAgICBsaW5rOiBwaWM0XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuICAgICAgICBsaW5rOiBwaWM1XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICfQkdCw0YjQutC40YDQuNGPJyxcclxuICAgICAgICBsaW5rOiBwaWM2XHJcbiAgICB9LFxyXG5dO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0b3JTZXR0aW5ncyA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogJy5mb3JtJyxcclxuICAgIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faW5wdXQnLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuYnV0dG9uX3NhdmUnLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogJ2J1dHRvbl9kaXNhYmxlZCcsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dF90eXBlX2Vycm9yJyxcclxuICAgIGVycm9yQ2xhc3M6ICdmb3JtX19lcnJvcl9hY3RpdmUnXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYXBpU2V0dGluZ3MgPSB7XHJcbiAgICB1cmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTE3LycsXHJcbiAgICBoZWFkZXJzOiAnQ29udGVudC1UeXBlXCIgOiBcImFwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgdG9rZW46ICcyNjg1NWRkYy0wYjMyLTQ2YmYtOTVmOS05NWE0YzZhNjhjZGUnXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzU2V0dGluZ3MgPSB7XHJcbiAgICBjYXJkc1NlbGVjdG9yOiAnLmNhcmRzJyxcclxuICAgIGNhcmRUcGxTZWxlY3RvcjogJy5qcy1jYXJkLWl0ZW0tdGVtcGxhdGUnLFxyXG4gICAgY2FyZFRpdGxlU2VsZWN0b3I6ICcuY2FyZC1pdGVtX190aXRsZScsXHJcbiAgICBjYXJkUGljU2VsZWN0b3I6ICcuY2FyZC1pdGVtX19waWMnLFxyXG4gICAgY2FyZExpa2VCdG5TZWxlY3RvcjogJy5idXR0b25fbGlrZScsXHJcbiAgICBjYXJkTGlrZUNvdW50U2VsZWN0b3I6ICcuY2FyZC1pdGVtX19saWtlLWNvdW50JyxcclxuICAgIGNhcmREZWxldGVCdG5TZWxlY3RvcjogJy5qcy1jYXJkLWRlbGV0ZScsXHJcblxyXG4gICAgcG9wdXBPcGVuZWRTZWxlY3RvcjogJy5wb3B1cF9vcGVuZWQnLFxyXG4gICAgcG9wdXBQcm9maWxlU2VsZWN0b3I6ICcuanMtcG9wdXAtcHJvZmlsZScsXHJcbiAgICBwb3B1cE5ld0NhcmRTZWxlY3RvcjogJy5qcy1wb3B1cC1jYXJkJyxcclxuICAgIHBvcHVwUHJldmlld1NlbGVjdG9yOiAnLmpzLXBvcHVwLXBsYWNlJyxcclxuICAgIHBvcHVwQ29uZmlybVNlbGVjdG9yOiAnLmpzLXBvcHVwLWFyZXlvdXN1cmUnLFxyXG4gICAgcG9wdXBBdmF0YXJTZWxlY3RvcjogJy5qcy1wb3B1cC1hdmF0YXInLFxyXG5cclxuICAgIGZvcm1Qcm9maWxlU2VsZWN0b3I6ICcuanMtZm9ybS1wcm9maWxlJyxcclxuICAgIGZvcm1DYXJkU2VsZWN0b3I6ICcuanMtZm9ybS1jYXJkJyxcclxuICAgIGZvcm1Db25maXJtU2VsZWN0b3I6ICcuanMtZm9ybS1hcmV5b3VzdXJlJyxcclxuICAgIGZvcm1BdmF0YXJTZWxlY3RvcjogJy5qcy1mb3JtLWF2YXRhcicsXHJcblxyXG4gICAgcHJldmlld0ltYWdlU2VsZWN0b3I6ICcucHJldmlld19faW1hZ2UnLFxyXG4gICAgcHJldmlld1RpdGxlU2VsZWN0b3I6ICcucHJldmlld19fdGl0bGUnLFxyXG5cclxuICAgIGJ1dHRvbkVkaXRQcm9maWxlU2VsZWN0b3I6ICcuYnV0dG9uX2VkaXQnLFxyXG4gICAgYnV0dG9uQWRkQ2FyZFNlbGVjdG9yOiAnLmJ1dHRvbl9hZGQnLFxyXG4gICAgYnV0dG9uRWRpdEF2YXRhclNlbGVjdG9yOiAnLmpzLWVkaXQtYXZhdGFyJyxcclxuICAgIGJ1dHRvblNhdmVTZWxlY3RvcjogJy5idXR0b25fc2F2ZScsXHJcbiAgICBidXR0b25TYXZlRGlzYWJsZWQ6ICcuYnV0dG9uX2Rpc2FibGVkJyxcclxuXHJcbiAgICBpbnB1dFByb2ZpbGVOYW1lU2VsZWN0b3I6ICcuZm9ybV9fcHJvZmlsZS1uYW1lJyxcclxuICAgIGlucHV0UHJvZmlsZUluZm9TZWxlY3RvcjogJy5mb3JtX19wcm9maWxlLWpvYicsXHJcbiAgICBpbnB1dFByb2ZpbGVBdmF0YXJTZWxlY3RvcjogJy5mb3JtX19hdmF0YXItdXJsJyxcclxuXHJcbiAgICBwcm9maWxlTmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX3BlcnNvbicsXHJcbiAgICBwcm9maWxlQWJvdXRTZWxlY3RvcjogJy5wcm9maWxlX19qb2InLFxyXG4gICAgcHJvZmlsZUF2YXRhclNlbGVjdG9yOiAnLnByb2ZpbGVfX2F2YXRhcidcclxufTtcclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuICAgICAgICB0aGlzLnVybCA9IGNvbmZpZy51cmw7XHJcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmhlYWRlcnMpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL9CX0LDQsdC40YDQsNC10Lwg0LLRgdC1INC60LDRgNGC0L7Rh9C60LhcclxuICAgIGdldENhcmRzKCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH1jYXJkc2AsIHtoZWFkZXJzOiB0aGlzLmhlYWRlcnN9KVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0LrQsNGA0YLQvtGH0LXQujogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB0aGlzLl9kaXNwbGF5RXJyKGVycikpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v0J/QvtC70YPRh9Cw0LXQvCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH11c2Vycy9tZWAsIHtoZWFkZXJzOiB0aGlzLmhlYWRlcnN9KVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1OiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHRoaXMuX2Rpc3BsYXlFcnIoZXJyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/QvtCx0L3QvtCy0LvRj9C10Lwg0LjQvdGE0L7RgNC80LDRhtC40Y4g0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XHJcbiAgICB1cGRhdGVVc2VySW5mbyhuYW1lLCBhYm91dCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH11c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICBhYm91dDogYWJvdXRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LU6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gdGhpcy5fZGlzcGxheUVycihlcnIpKTtcclxuICAgIH1cclxuXHJcbiAgICAvL9CU0L7QsdCw0LLQu9GP0LXQvCDQvdC+0LLQvtC1INC80LXRgdGC0L5cclxuICAgIGNyZWF0ZU5ld1BsYWNlKG5hbWUsIGxpbmspIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9Y2FyZHNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICBsaW5rOiBsaW5rXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4OiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHRoaXMuX2Rpc3BsYXlFcnIoZXJyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/Qo9C00LDQu9GP0LXQvCDQutCw0YDRgtC+0YfQutGDXHJcbiAgICBkZWxldGVNeVBsYWNlKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfWNhcmRzLyR7aWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LggJHtpZH0g0LrQsNGA0YLQvtGH0LrQuDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB0aGlzLl9kaXNwbGF5RXJyKGVycikpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v0KHRgtCw0LLQuNC8INC70LDQudC6XHJcbiAgICBsaWtlQ2FyZChpZCwgbWV0aG9kKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfWNhcmRzL2xpa2VzLyR7aWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAg0LvQsNC50LrQsNC90YzRjyAke2lkfSDQutCw0YDRgtC+0YfQutC4OiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHRoaXMuX2Rpc3BsYXlFcnIoZXJyKSk7XHJcbiAgICB9XHJcblxyXG4vL9Ch0YLQsNCy0LjQvCDQvdC+0LLRi9C5INCw0LLQsNGC0LDRgFxyXG4gICAgY2hhbmdlQXZhdGFyKGF2YXRhclVybCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH11c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiBhdmF0YXJVcmxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwINC30LDQvNC10L3RiyDQsNCy0LDRgtCw0YDQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB0aGlzLl9kaXNwbGF5RXJyKGVycikpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBfZGlzcGxheUVycihlcnIpIHtcclxuICAgICAgICBhbGVydChlcnIpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9ycykge1xyXG4gICAgICAgIHRoaXMuX25hbWVTZWxlY3RvciA9IHNlbGVjdG9ycy5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2luZm9TZWxlY3RvciA9IHNlbGVjdG9ycy5pbmZvO1xyXG4gICAgICAgIHRoaXMuX2F2YXRhclNlbGVjdG9yID0gc2VsZWN0b3JzLmF2YXRhcjtcclxuXHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fbmFtZVNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9pbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9pbmZvU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fYXZhdGFyU2VsZWN0b3IpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4ge25hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsIGluZm86IHRoaXMuX2luZm8udGV4dENvbnRlbnQsIGF2YXRhcjogdGhpcy5fYXZhdGFyLnNyY307XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8obmFtZSwgaW5mbykge1xyXG4gICAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX2luZm8udGV4dENvbnRlbnQgPSBpbmZvO1xyXG4gICAgfVxyXG4gICAgaW5pdFVzZXJJbmZvKGRhdGEpIHtcclxuICAgICAgICB0aGlzLnNldFVzZXJJbmZvKGRhdGEubmFtZSwgZGF0YS5hYm91dCk7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gICAgICAgIHRoaXMuX2F2YXRhci5hbHQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5pZCA9IGRhdGEuX2lkO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHtpdGVtcywgcmVuZGVyZXJ9LCBzZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuaXRlbXMgPSBpdGVtcztcclxuXHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpdGVtID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlcGVuZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Nsb3NlQnRuU2VsZWN0b3IgPSAnLmJ1dHRvbl9jbG9zZSc7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICAgICAgLy/Ql9Cw0LrRgNGL0YLQuNC1INC/0L4g0L/Rg9GB0YLQvtC80YMg0LzQtdGB0YLRg1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5fc2VsZWN0b3Iuc2xpY2UoMSkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy/Ql9Cw0LrRgNGL0YLQuNC1INC/0L4g0LrQvdC+0L/QutC1XHJcbiAgICAgICAgY29uc3QgY2xvc2VCdG4gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2xvc2VCdG5TZWxlY3Rvcik7XHJcbiAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuXHJcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3RvciwgdGl0bGUsIGxpbmspIHtcclxuICAgICAgICBzdXBlcihzZWxlY3Rvcik7XHJcblxyXG4gICAgICAgIHRoaXMuX2lhbWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihsaW5rKTtcclxuICAgICAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aXRsZSk7XHJcblxyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXIoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgb3BlbihsaW5rLCBuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5faWFtZ2Uuc3JjID0gbGluaztcclxuICAgICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgICB0aGlzLl9pYW1nZS5hbHQgPSBuYW1lO1xyXG5cclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3Ioe3NlbGVjdG9yLCBzdWJtaXRGbmN9LCBmb3JtU2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihzZWxlY3Rvcik7XHJcblxyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEZuYyA9IHN1Ym1pdEZuYztcclxuXHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybVNlbGVjdG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRFdmVudExpc3RlbmVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcigpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVyKCk7XHJcbiAgICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfc3VibWl0KCkge1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEZuYyh0aGlzLl9pZENhcmQpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oaWQpIHtcclxuICAgICAgICB0aGlzLl9pZENhcmQgPSBpZDtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtzZWxlY3RvcnNTZXR0aW5nc30gZnJvbSBcIi4uL3V0aWxzL2RhdGFcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlkLCBkYXRhLCBzZWxlY3RvcnMsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlQ2FyZERlbGV0ZSwgaGFuZGxlQ2FyZExpa2UpIHtcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKE9iamVjdC52YWx1ZXMoZGF0YS5saWtlcykpO1xyXG5cclxuICAgICAgICB0aGlzLl9teUlkID0gaWQ7XHJcblxyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgICAgICB0aGlzLl9saWtlQ291bnQgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICAgICAgdGhpcy5faWRDYXJkID0gZGF0YS5faWQ7XHJcbiAgICAgICAgdGhpcy5saWtlc09iaiA9IGRhdGEubGlrZXM7XHJcbiAgICAgICAgdGhpcy5fbGlrZUNvdW50ID0gZGF0YS5saWtlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlID0gaGFuZGxlQ2FyZERlbGV0ZTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSA9IGhhbmRsZUNhcmRMaWtlO1xyXG5cclxuICAgICAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9ycy5jYXJkVHBsU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fY2FyZFRpdGxlU2VsZWN0b3IgPSBzZWxlY3RvcnMuY2FyZFRpdGxlU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fY2FyZFBpY1NlbGVjdG9yID0gc2VsZWN0b3JzLmNhcmRQaWNTZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9jYXJkTGlrZUJ0blNlbGVjdG9yID0gc2VsZWN0b3JzLmNhcmRMaWtlQnRuU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fY2FyZExpa2VDb3VudFNlbGVjdG9yID0gc2VsZWN0b3JzLmNhcmRMaWtlQ291bnRTZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9jYXJkRGVsZXRlQnRuU2VsZWN0b3IgPSBzZWxlY3RvcnMuY2FyZERlbGV0ZUJ0blNlbGVjdG9yO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBoYXNNeUxpa2UoKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC52YWx1ZXModGhpcy5saWtlc09iaikuZmluZCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5faWQgPT09IHRoaXMuX215SWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldENhcmRUZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuaWQgPSB0aGlzLl9pZENhcmQ7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRQaWNTZWxlY3Rvcikuc3JjID0gdGhpcy5fbGluaztcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFRpdGxlU2VsZWN0b3IpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZExpa2VDb3VudFNlbGVjdG9yKS50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VDb3VudDtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9pdHNNeUNhcmQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgICAgICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkRGVsZXRlQnRuU2VsZWN0b3IpXHJcbiAgICAgICAgICAgICAgICAuY2xhc3NMaXN0XHJcbiAgICAgICAgICAgICAgICAuYWRkKCdidXR0b25fdmlzaWJpbGl0eV9oaWRkZW4nKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5oYXNNeUxpa2UoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9saWtlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBfbGlrZSgpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRMaWtlQnRuU2VsZWN0b3IpXHJcbiAgICAgICAgICAgIC5jbGFzc0xpc3RcclxuICAgICAgICAgICAgLnRvZ2dsZSgnYnV0dG9uX2xpa2UtaXNzZXQnKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRMaWtlQ291bnQoY291bnQpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZExpa2VDb3VudFNlbGVjdG9yKS50ZXh0Q29udGVudCA9IGNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRDYXJkVGVtcGxhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9yKVxyXG4gICAgICAgICAgICAuY29udGVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcignLmNhcmQtaXRlbScpXHJcbiAgICAgICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2l0c015Q2FyZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5fbXlJZCA9PT0gdGhpcy5fb3duZXJJZCkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uX2xpa2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZExpa2UoKTtcclxuICAgICAgICAgICAgdGhpcy5fbGlrZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWl0ZW1fX3BpYycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuanMtY2FyZC1kZWxldGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybVNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuICAgICAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBmb3JtU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fZm9ybVNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVTYXZlQnRuKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9kaXNhYmxlU2F2ZUJ0bigpIHtcclxuICAgICAgICBjb25zdCBzYXZlQnRuID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3NldHRpbmdzWydzdWJtaXRCdXR0b25TZWxlY3RvciddKTtcclxuICAgICAgICBzYXZlQnRuLmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgc2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9pbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9zZXR0aW5nc1snaW5wdXRTZWxlY3RvciddKSk7XHJcbiAgICAgICAgdGhpcy5fc2F2ZUJ0biA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zZXR0aW5nc1snc3VibWl0QnV0dG9uU2VsZWN0b3InXSk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5faW5wdXRzLmZvckVhY2goaW5wdXRFbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGVja1ZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBfaW5wdXRJc1ZhbGlkKGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIHJldHVybiBpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9jaGVja1ZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGlmICghdGhpcy5faW5wdXRJc1ZhbGlkKGlucHV0RWxlbWVudCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRzKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zYXZlQnRuLmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3NbJ2luYWN0aXZlQnV0dG9uQ2xhc3MnXSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NhdmVCdG4uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NhdmVCdG4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5nc1snaW5hY3RpdmVCdXR0b25DbGFzcyddKTtcclxuICAgICAgICAgICAgdGhpcy5fc2F2ZUJ0bi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0cy5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBpbnB1dElkID0gaW5wdXRFbGVtZW50LmlkO1xyXG5cclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dElkfS1lcnJvcmApO1xyXG5cclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcblxyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzWydlcnJvckNsYXNzJ10pO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzWydpbnB1dEVycm9yQ2xhc3MnXSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRJZCA9IGlucHV0RWxlbWVudC5pZDtcclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dElkfS1lcnJvcmApO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzWydlcnJvckNsYXNzJ10pO1xyXG5cclxuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5nc1snaW5wdXRFcnJvckNsYXNzJ10pO1xyXG4gICAgfTtcclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7c2VsZWN0b3IsIHN1Ym1pdEZuY30sIGZvcm0pIHtcclxuICAgICAgICBzdXBlcihzZWxlY3Rvcik7XHJcblxyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEZuYyA9IHN1Ym1pdEZuYztcclxuICAgICAgICB0aGlzLl9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihmb3JtKTtcclxuICAgICAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKTtcclxuICAgICAgICB0aGlzLl9mb3JtVmFsdWVzID0gW107XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3N1Ym1pdCgpIHtcclxuICAgICAgICBjb25zdCBmb3JtVmFsdWVzID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRGbmMoZm9ybVZhbHVlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcbmltcG9ydCB7YXBpU2V0dGluZ3MsIHZhbGlkYXRvclNldHRpbmdzLCBzZWxlY3RvcnNTZXR0aW5nc30gZnJvbSAnLi4vdXRpbHMvZGF0YS5qcyc7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyc7XHJcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm1cIjtcclxuXHJcbi8v0JrQvdC+0LrQuCDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzU2V0dGluZ3MuYnV0dG9uRWRpdFByb2ZpbGVTZWxlY3Rvcik7XHJcbmNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yc1NldHRpbmdzLmJ1dHRvbkFkZENhcmRTZWxlY3Rvcik7XHJcbmNvbnN0IGVkaXRBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yc1NldHRpbmdzLmJ1dHRvbkVkaXRBdmF0YXJTZWxlY3Rvcik7XHJcblxyXG5jb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yc1NldHRpbmdzLmlucHV0UHJvZmlsZU5hbWVTZWxlY3Rvcik7XHJcbmNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnNTZXR0aW5ncy5pbnB1dFByb2ZpbGVJbmZvU2VsZWN0b3IpO1xyXG5jb25zdCBhdmF0YXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzU2V0dGluZ3MuaW5wdXRQcm9maWxlQXZhdGFyU2VsZWN0b3IpO1xyXG5cclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gICAgdXJsOiBhcGlTZXR0aW5ncy51cmwsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgXCJhdXRob3JpemF0aW9uXCI6IGFwaVNldHRpbmdzLnRva2VuLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICB9LFxyXG59KTtcclxuXHJcblxyXG4vL9Ce0YLQvtCx0YDQsNC20LXQvdC40LUg0LfQsNCz0YDRg9C30LrQuCDQtNCw0L3QvdGL0YVcclxuZnVuY3Rpb24gY2hhbmdlQnRuTGFiZWwobmV3TGFiZWwpIHtcclxuICAgIGxldCBjaGFuZ2VCdG4gPSBkb2N1bWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yc1NldHRpbmdzLnBvcHVwT3BlbmVkU2VsZWN0b3IpXHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzU2V0dGluZ3MuYnV0dG9uU2F2ZVNlbGVjdG9yKTtcclxuICAgIGNoYW5nZUJ0bi50ZXh0Q29udGVudCA9IG5ld0xhYmVsO1xyXG4gICAgaWYgKG5ld0xhYmVsID09PSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCIpIHtcclxuICAgICAgICBjaGFuZ2VCdG4uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGNoYW5nZUJ0bi5jbGFzc0xpc3QuYWRkKHNlbGVjdG9yc1NldHRpbmdzLmJ1dHRvblNhdmVEaXNhYmxlZC5zbGljZSgxKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYW5nZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIGNoYW5nZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKHNlbGVjdG9yc1NldHRpbmdzLmJ1dHRvblNhdmVEaXNhYmxlZC5zbGljZSgxKSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vL9Cf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjFxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgICBuYW1lOiBzZWxlY3RvcnNTZXR0aW5ncy5wcm9maWxlTmFtZVNlbGVjdG9yLFxyXG4gICAgaW5mbzogc2VsZWN0b3JzU2V0dGluZ3MucHJvZmlsZUFib3V0U2VsZWN0b3IsXHJcbiAgICBhdmF0YXI6IHNlbGVjdG9yc1NldHRpbmdzLnByb2ZpbGVBdmF0YXJTZWxlY3RvclxyXG59KTtcclxuXHJcbi8v0LfQsNCz0YDRg9C20LDQtdC8INC40L3RhNC+0YDQvNCw0YbQuNGOINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtVxyXG5mdW5jdGlvbiBpbml0VXNlckluZm8oKSB7XHJcbiAgICBhcGkuZ2V0VXNlckluZm8oKS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvLmluaXRVc2VySW5mbyhkYXRhKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuY29uc3QgaW5zQ2FyZHMgPSBuZXcgU2VjdGlvbih7XHJcbiAgICAgICAgaXRlbXM6IHt9LFxyXG4gICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdDYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoaXRlbSk7XHJcbiAgICAgICAgICAgIGluc0NhcmRzLmFkZEl0ZW0obmV3Q2FyZEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzZWxlY3RvcnNTZXR0aW5ncy5jYXJkc1NlbGVjdG9yXHJcbik7XHJcblxyXG5cclxuZnVuY3Rpb24gaW5pdENhcmRzKGluc0NhcmRzKSB7XHJcbiAgICBhcGkuZ2V0Q2FyZHMoKVxyXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGluc0NhcmRzLml0ZW1zID0gZGF0YTtcclxuICAgICAgICAgICAgaW5zQ2FyZHMucmVuZGVySXRlbXMoKTtcclxuICAgICAgICB9KTtcclxufVxyXG5cclxuXHJcblxyXG4vL9Ch0L7Qt9C00LDQtdC8INC60LDRgNGC0L7Rh9C60YNcclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XHJcbiAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoXHJcbiAgICAgICAgdXNlckluZm8uaWQsXHJcbiAgICAgICAgaXRlbSxcclxuICAgICAgICBzZWxlY3RvcnNTZXR0aW5ncyxcclxuICAgICAgICAoaGFuZGxlQ2FyZENsaWNrKSA9PiB7XHJcbiAgICAgICAgICAgIHBvcHVwUGxhY2Uub3BlbihpdGVtLmxpbmssIGl0ZW0ubmFtZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAoaGFuZGxlQ2FyZERlbGV0ZSkgPT4ge1xyXG4gICAgICAgICAgICBwb3B1cENvbmZpcm0ub3BlbihpdGVtLl9pZCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAoaGFuZGxlQ2FyZExpa2UpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8v0JrQsNGA0YLQvtGH0LrQsCDQuNC80LXQtdGCINC80L7QuSDQu9Cw0LnQuiAtINGD0LTQsNC70LXQvdC40LUg0LvQsNC50LrQsCDQv9C+INC60LvQuNC60YNcclxuICAgICAgICAgICAgaWYgKG5ld0NhcmQuaGFzTXlMaWtlKCkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBhcGkubGlrZUNhcmQoaXRlbS5faWQsICdERUxFVEUnKS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2FyZC5zZXRMaWtlQ291bnQocmVzLmxpa2VzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2FyZC5saWtlc09iaiA9IHJlcy5saWtlcztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9Ly/QryDQtdGJ0LUg0L3QtSDQu9Cw0LnQutCw0LsgLSDRgdGC0LDQstC40LxcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcGkubGlrZUNhcmQoaXRlbS5faWQsICdQVVQnKS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2FyZC5zZXRMaWtlQ291bnQocmVzLmxpa2VzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2FyZC5saWtlc09iaiA9IHJlcy5saWtlcztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuICAgIHJldHVybiBuZXdDYXJkLmNyZWF0ZSgpO1xyXG5cclxufVxyXG5cclxuXHJcbi8vUG9wdXAg0YEg0L/RgNC10LLRjNGOXHJcbmNvbnN0IHBvcHVwUGxhY2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXHJcbiAgICBzZWxlY3RvcnNTZXR0aW5ncy5wb3B1cFByZXZpZXdTZWxlY3RvcixcclxuICAgIHNlbGVjdG9yc1NldHRpbmdzLnByZXZpZXdUaXRsZVNlbGVjdG9yLFxyXG4gICAgc2VsZWN0b3JzU2V0dGluZ3MucHJldmlld0ltYWdlU2VsZWN0b3JcclxuKTtcclxuXHJcblxyXG4vL1BvcHVwIGMg0L/QvtC00YLQstC10YDQttC00LXQvdC40LXQvFxyXG5jb25zdCBwb3B1cENvbmZpcm0gPSBuZXcgUG9wdXBXaXRoQ29uZmlybShcclxuICAgIHtcclxuICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3JzU2V0dGluZ3MucG9wdXBDb25maXJtU2VsZWN0b3IsXHJcbiAgICAgICAgc3VibWl0Rm5jOiAoaWQpID0+IHtcclxuICAgICAgICAgICAgY2hhbmdlQnRuTGFiZWwoJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJyk7XHJcbiAgICAgICAgICAgIGFwaS5kZWxldGVNeVBsYWNlKGlkKS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlcy5tZXNzYWdlKSByZXR1cm4gbmV3IFByb21pc2UucmVqZWN0KCfQntGI0LjQsdC60LAg0YPQtNCw0LvQtdC90LjRjycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBkZWxldGVFTGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlRUxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkLWl0ZW1fY2xvc2VkJyk7XHJcbiAgICAgICAgICAgICAgICAvL9Cf0LvQsNCw0LDQsNCw0LLQvdC+INGD0LTQsNC70Y/QtdC8INC60LDRgNGC0L7Rh9C60YNcclxuICAgICAgICAgICAgICAgIGRlbGV0ZUVMZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVFTGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUVMZW1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuZmluYWxseShlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUJ0bkxhYmVsKCfQlNCwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBDb25maXJtLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2VsZWN0b3JzU2V0dGluZ3MuZm9ybUNvbmZpcm1TZWxlY3Rvcik7XHJcblxyXG5cclxuLy/Qn9C+0L/QsNC/INGBINC/0YDQvtGE0LjQu9C10LxcclxuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgICB7XHJcbiAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yc1NldHRpbmdzLnBvcHVwUHJvZmlsZVNlbGVjdG9yLFxyXG4gICAgICAgIHN1Ym1pdEZuYzogKHZhbHVlcykgPT4ge1xyXG4gICAgICAgICAgICBjaGFuZ2VCdG5MYWJlbCgn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKTtcclxuICAgICAgICAgICAgYXBpLnVwZGF0ZVVzZXJJbmZvKHZhbHVlcy5uYW1lLCB2YWx1ZXMuaW5mbykudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRVc2VySW5mbygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApLmZpbmFsbHkoc3RhdHVzID0+IHtcclxuICAgICAgICAgICAgICAgIGNoYW5nZUJ0bkxhYmVsKCfQodC+0YXRgNCw0L3QuNGC0YwnKTtcclxuICAgICAgICAgICAgICAgIHBvcHVwUHJvZmlsZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2VsZWN0b3JzU2V0dGluZ3MuZm9ybVByb2ZpbGVTZWxlY3Rvcik7XHJcblxyXG5cclxuLy/Qn9C+0L/QsNC/INGBINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQvtC5XHJcbmNvbnN0IHBvcHVwTmV3Q2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICAge1xyXG4gICAgICAgIHNlbGVjdG9yOiBzZWxlY3RvcnNTZXR0aW5ncy5wb3B1cE5ld0NhcmRTZWxlY3RvcixcclxuICAgICAgICBzdWJtaXRGbmM6ICh2YWx1ZXMpID0+IHtcclxuICAgICAgICAgICAgY2hhbmdlQnRuTGFiZWwoJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJyk7XHJcbiAgICAgICAgICAgIGFwaS5jcmVhdGVOZXdQbGFjZSh2YWx1ZXMubmFtZSwgdmFsdWVzLmxpbmspLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NhcmQgPSBjcmVhdGVDYXJkKHJlcyk7XHJcbiAgICAgICAgICAgICAgICBpbnNDYXJkcy5wcmVwZW5kSXRlbShuZXdDYXJkKTtcclxuICAgICAgICAgICAgfSkuZmluYWxseShzdGF0dXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlQnRuTGFiZWwoJ9Ch0L7RhdGA0LDQvdC40YLRjCcpO1xyXG4gICAgICAgICAgICAgICAgcG9wdXBOZXdDYXJkLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzZWxlY3RvcnNTZXR0aW5ncy5mb3JtQ2FyZFNlbGVjdG9yKTtcclxuXHJcblxyXG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICAge1xyXG4gICAgICAgIHNlbGVjdG9yOiBzZWxlY3RvcnNTZXR0aW5ncy5wb3B1cEF2YXRhclNlbGVjdG9yLFxyXG4gICAgICAgIHN1Ym1pdEZuYzogKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGNoYW5nZUJ0bkxhYmVsKCfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpO1xyXG4gICAgICAgICAgICBhcGkuY2hhbmdlQXZhdGFyKHZhbHVlLmxpbmspLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGluaXRVc2VySW5mbygpO1xyXG4gICAgICAgICAgICB9KS5maW5hbGx5KHN0YXR1cyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VCdG5MYWJlbCgn0KHQvtGF0YDQsNC90LjRgtGMJyk7XHJcbiAgICAgICAgICAgICAgICBwb3B1cEF2YXRhci5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2VsZWN0b3JzU2V0dGluZ3MuZm9ybUF2YXRhclNlbGVjdG9yXHJcbik7XHJcblxyXG5cclxuZnVuY3Rpb24gc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBhZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgIHBvcHVwTmV3Q2FyZC5vcGVuKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBlZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGdldFVzZXJJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICAgICAgICBuYW1lSW5wdXQudmFsdWUgPSBnZXRVc2VySW5mby5uYW1lO1xyXG4gICAgICAgIG5hbWVJbnB1dC5mb2N1cygpO1xyXG4gICAgICAgIGpvYklucHV0LnZhbHVlID0gZ2V0VXNlckluZm8uaW5mbztcclxuICAgICAgICBwb3B1cFByb2ZpbGUub3BlbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZWRpdEF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICBjb25zdCBnZXRVc2VySW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgICAgICAgYXZhdGFySW5wdXQudmFsdWUgPSBnZXRVc2VySW5mby5hdmF0YXI7XHJcbiAgICAgICAgcG9wdXBBdmF0YXIub3BlbigpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5pbml0VXNlckluZm8oKTtcclxuaW5pdENhcmRzKGluc0NhcmRzKTtcclxuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcblxyXG5jb25zdCB2YWxpZGF0ZVByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0b3JTZXR0aW5ncywgc2VsZWN0b3JzU2V0dGluZ3MuZm9ybVByb2ZpbGVTZWxlY3Rvcik7XHJcbnZhbGlkYXRlUHJvZmlsZS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCB2YWxpZGF0ZUF2YXRhciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRvclNldHRpbmdzLCBzZWxlY3RvcnNTZXR0aW5ncy5mb3JtQXZhdGFyU2VsZWN0b3IpO1xyXG52YWxpZGF0ZUF2YXRhci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCB2YWxpZGF0ZUNhcmQgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0b3JTZXR0aW5ncywgc2VsZWN0b3JzU2V0dGluZ3MuZm9ybUNhcmRTZWxlY3Rvcik7XHJcbnZhbGlkYXRlQ2FyZC5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==